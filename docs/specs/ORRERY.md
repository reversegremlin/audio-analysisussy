This specification focuses on **Celestial Mechanics** and **Orbital Decay**. We are moving away from fluids and biology into the realm of brass, gears, and the "Clockwork Universe"—but we’re breaking the clock.

The goal is to simulate a hyper-complex orrery where the planets don’t follow circular paths, but instead succumb to the chaotic gravitational tugs of a **Three-Body Problem**, all while being refracted through a spinning, spiraling kaleidoscope.

---

## 1. The "Broken" Orrery Primitives

The objects in this visualizer are steampunk-inspired celestial bodies, connected by visible brass armatures and glowing energy filaments.

* **The Tri-Suns:** Instead of one sun, three massive, glowing spheres at the center orbit each other. Their proximity determines the "heat" (brightness) of the entire visualizer.
* **Nested Spheres:** Each planet is a series of concentric, latticed rings (like an Armillary sphere).
* **Epicycles:** Every planet has moons, and those moons have sub-moons, creating a recursive "nested" movement that perfectly suits a kaleidoscope's geometry.
* **The Ticking Hand:** A long, needle-like sweep hand (like a clock) that rotates at the track's BPM, "striking" planets and triggering musical transients.

---

## 2. Three-Body Chaos & Gravity

The "weirdness" comes from the physics engine. We abandon Kepler's laws for **Chaotic N-Body Simulations**.

* **Gravitational Slingshot:** When the bass hits, the "Sun" mass increases, pulling planets into tight, screamingly fast orbits. When the bass drops, they are flung outward in unpredictable, non-repeating loops.
* **Lagrange Point Visuals:** The areas where gravity cancels out (Lagrange points) are marked by shimmering dust clouds or "space-time tears."
* **The Chaos Formula:** The movement of the three central suns is dictated by the restricted three-body equation:



*This ensures the orbits never repeat, creating a "once-in-a-lifetime" visual for every song.*

---

## 3. The Spiraling Kaleidoscope (The "Astro-Vortex")

The kaleidoscope for this spec isn't a static mirror; it’s a **Logarithmic Spiral**.

* **Spiraling Mirrors:** Instead of straight triangular segments, the mirror lines are curved. This creates a "vortex" effect where planets appear to spiral infinitely into the center or out toward the edges.
* **The Gear-Shift Rotation:** The kaleidoscope doesn't spin smoothly. It moves like a mechanical watch—ticking and locking into place with every beat of the music.
* **Precession:** The entire kaleidoscope "wobbles" on its axis. As the music’s melody becomes more complex, the "tilt" of the mirrors increases, revealing the 3D depth of the orrery.

---

## 4. Audio-to-Mechanical Mapping

The music acts as the "winding key" for the orrery.

| Audio Feature | Orrery Reaction |
| --- | --- |
| **Tempo (BPM)** | **Clockwork Speed:** Controls the base rotation of the main brass armatures. |
| **Snare/Percussion** | **Collision Events:** Causes two planets to "spark" or release a burst of brass shards when they cross a mirror line. |
| **Synth Arpeggios** | **Orbital Resonances:** Creates glowing "harmonic strings" that connect the planets, forming complex geometric webs. |
| **Volume (Gain)** | **System Expansion:** High volume pushes the planets further from the sun; low volume draws them into a dense, chaotic "crunch." |

---

## 5. Visual Texture: "Ancient Star-Chart"

The aesthetic is a blend of **18th-century astronomy** and **modern deep-space photography**.

* **Materials:** Polished brass, etched obsidian, and glowing "plasma" filaments.
* **The Starfield:** The background is a moving star-chart that rotates in the opposite direction of the kaleidoscope, creating a sense of dizzying "counter-rotation."
* **Etched Trails:** As planets move, they leave faint, glowing "orbital paths" etched into the dark background, which slowly fade like phosphor trails on an old radar screen.

---

## 6. The "Supernova" Reset

When the track reaches its final peak or a sudden stop:

1. The three suns collide at the center.
2. The kaleidoscope segments "shatter" and fly outward.
3. The screen fades to a "blueprint" view (white lines on blue) before slowly rebuilding the orrery for the next track.

